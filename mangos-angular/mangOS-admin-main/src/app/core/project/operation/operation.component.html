<div class="operation-container" >
  <ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "large" color = "#fff" type = "pacman" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>
  <div fxLayout="row" fxLayoutAlign="start center">
		<div fxFlex="65" class="heading"><h2 class="head">Operations</h2></div>
    <div fxFlex="20" fxFlexAlign="baseline">
      <div >
        <mat-form-field >
          <input matInput type="text" (keyup)="doFilter($any($event.target).value)" placeholder="Filter">
        </mat-form-field>
      </div>
    </div>
    <div fxFlex="15" fxFlexAlign="baseline">
      <button mat-raised-button color="primary" class="addBtn" (click)="addOperation()">Add New Operation</button>
    </div>
  </div>
  <div class="mat-elevation-z8">
    <table mat-table class="full-width-table" matSort aria-label="Elements">
      <!-- Id Column -->
      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>ID</th>
        <td mat-cell *matCellDef="let row;let i = index">{{i+1}}</td>
      </ng-container>

      <!-- Machine Column -->
      <ng-container matColumnDef="machine">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Machine</th>
        <td mat-cell *matCellDef="let row">{{row.machines.title}}</td>
      </ng-container>

      <!-- Title Column -->
      <ng-container matColumnDef="title">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Operation</th>
        <td mat-cell *matCellDef="let row">{{row.title}}</td>
      </ng-container>

      <!-- Short Code Column -->
      <ng-container matColumnDef="code">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Short Code</th>
        <td mat-cell *matCellDef="let row">{{row.code}}</td>
      </ng-container>

      <!-- Content Column -->
      <ng-container matColumnDef="content">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Description</th>
        <td mat-cell *matCellDef="let row">{{row.content}}</td>
      </ng-container>

      <!-- Action Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
        <td mat-cell *matCellDef="let item; let i = index"><button  mat-icon-button size="small" color="primary" (click)="editOperation(i)" ><mat-icon>mode</mat-icon></button><button  mat-icon-button color="warn" (click)="deleteOperationDialog(i)" ><mat-icon>delete</mat-icon></button>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>

    <mat-paginator #paginator
        [length]="dataSource?.data?.length"
        [pageIndex]="0"
        [pageSize]="10"
        [pageSizeOptions]="[5, 10, 20]">
    </mat-paginator>
  </div>
</div>
