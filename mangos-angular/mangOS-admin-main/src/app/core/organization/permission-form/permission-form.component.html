<div class="grid-container" >
	<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "large" color = "#fff" type = "pacman" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>
	<form [formGroup]="permissionForm" novalidate class="profile" (ngSubmit)="addPermission()">
		<mat-card>
			<mat-card-title>
				<!-- <h2>{{ title }} </h2>
				<mat-error *ngIf='message!=null'>{{ message }}</mat-error> -->
				<mat-error *ngFor='let errors of errors | keyvalue'>{{ errors.value }}</mat-error>
				
			</mat-card-title> 
			<mat-card-content>
				<mat-card-title>
					<mat-form-field class="full-width" appearance="outline">
						<mat-label>Group Name</mat-label>
						<input matInput placeholder="Group Name" formControlName="name">
						<mat-error *ngIf="permissionForm.controls['name'].hasError('required')">
							Name is <strong>required</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title>
			</mat-card-content>
			<mat-card-content>
				<mat-card-title>
					<h2>Permissions</h2>
				</mat-card-title>
			</mat-card-content>

			<!-- <div formArrayName='permission_detail' class="itemList">
				<div *ngFor='let permissions of permissions.controls; let i = index'>
					<div [formGroupName]="i">
						<mat-card-title class="cls">
							<mat-form-field >
								<input type='text' matInput  formControlName="name" readonly >
							</mat-form-field>
							
						
							<mat-form-field hidden>
								<input type='text' matInput placeholder="content type" formControlName="content_type" readonly >
							</mat-form-field>

							<mat-form-field hidden>
								<input type='text' matInput placeholder="codename" formControlName="codename" readonly>
							</mat-form-field>

							
							<mat-checkbox formControlName="edit" color='primary'>Edit</mat-checkbox>
							<mat-checkbox formControlName="view" color='primary'>View</mat-checkbox>
							
						</mat-card-title>
					</div>  
					<mat-divider></mat-divider>
				</div>
			</div> -->
			<div fxLayout="row wrap">
				<div fxFlex="25" *ngFor='let permission of permissionData;let i = index'>
					<mat-checkbox color='primary' (change)="onCheckboxChange($event,i)"  [value]="permission" [checked]='permission.value'>{{ permission.name }}</mat-checkbox>
				</div>
			</div>
			<mat-card-actions>
				<button mat-raised-button color="primary" type="submit" [disabled]="!permissionForm.valid">Save</button>
				<!-- <button mat-raised-button color="primary" type="button" (click)='onCancel()' >Cancel</button> -->
			</mat-card-actions>
		</mat-card>
	</form>
</div>
<!-- 
<ng-template class="grid-container" #noPermission>
	<mat-grid-list cols="1" rowHeight="2:1" >
		<mat-grid-tile   colspan='1' class='warning'>
			<h2 >You do not have permission to perform this action </h2>
		</mat-grid-tile>
	</mat-grid-list>
</ng-template> -->
