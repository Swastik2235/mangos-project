<div class="grid-container" >
	<ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "large" color = "#fff" type = "pacman" [fullScreen] = "true"><p style="color: white" > Loading... </p></ngx-spinner>	
	<div *ngIf="clientId"><h2>Edit Client Details</h2></div>
	<div *ngIf="clientId==null"><h2>Add Client Details</h2></div>
	<form [formGroup]="clientForm" novalidate class="profile" (ngSubmit)="updateClient()">
		<mat-card>
			<mat-card-title>
				<mat-error *ngIf='message!=null' >{{ message }}</mat-error>
				<mat-error *ngFor='let error of errors '><span>{{ error }}</span></mat-error>
			</mat-card-title> 
			<mat-card-content>
				<img [src]='userImgUrl' height="100px">
				<mat-card-title>
					<mat-form-field hidden >
						<div class="myfilebrowser">
							<input matInput formControlName="logo" [attr.required]='addClient'/>
						</div> 
					</mat-form-field>
				</mat-card-title> 
				<label>Logo: </label>
				<input type="file"  (change)="fileChangeEvent($event)"  multiple="multiple" accept="image/*"  />
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>Name</mat-label>
						<input matInput placeholder="Name" formControlName="name">
						<mat-error *ngIf="clientForm.controls['name'].hasError('required')">
						Name is <strong>required</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title>   
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>Email</mat-label>
						<input type='email' matInput placeholder="Email" formControlName="email">
						<mat-error *ngIf="clientForm.controls['email'].hasError('required')">
						Email is <strong>required</strong>
						</mat-error>
						<mat-error *ngIf="clientForm.controls['email'].hasError('email')">
							Please Enter valid <strong>email</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title>
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>Founded</mat-label>
						<input type="number" maxlength="4" matInput placeholder="Founded" formControlName="founded" onKeyPress="if(this.value.length==4) return false;" >
						<mat-error *ngIf="clientForm.controls['founded'].hasError('required')">
						Founded is <strong>required</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title>
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>About Client</mat-label>
						<textarea matInput placeholder="About Client" formControlName="about"></textarea>
						<mat-error *ngIf="clientForm.controls['about'].hasError('required')">
						About Client is <strong>required</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title>
				<!-- <mat-card-title>
					<mat-form-field class="full-width">
						<input type="number" matInput placeholder="Mobile Number" formControlName="mobile">
						<mat-error *ngIf="clientForm.controls['mobile'].hasError('required')">
						Mobile is <strong>required</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title> -->
				<mat-card-title>
					<mat-form-field class="full-width" appearance="outline">
						<mat-label>Phone Number</mat-label>
						<input type='number' matInput placeholder="Phone Number" formControlName="phone" onKeyPress="if(this.value.length==15) return false;" >
						<!-- <mat-error *ngIf="clientForm.controls['phone'].hasError('required')">
							Email is <strong>required</strong>
						</mat-error>
						<mat-error *ngIf="clientForm.controls['email'].hasError('email')">
							Please Enter valid <strong>email</strong>
						</mat-error> -->
					</mat-form-field>
				</mat-card-title>
				<mat-card-title>
					<mat-form-field class="full-width" appearance="outline">
						<mat-label>Mobile Number</mat-label>
						<input type='number' matInput placeholder="Mobile" formControlName="mobile"  onKeyPress="if(this.value.length==15) return false;">
						<mat-error *ngIf="clientForm.controls['mobile'].errors">
							Mobile  <strong>required</strong>
							<span *ngIf='f.mobile.errors?.minlength'>Minimum 10 digit <strong>required</strong></span>
							<span *ngIf='f.mobile.errors?.maxlength'>Mobile must be less than <strong>15 digits.</strong></span>
						</mat-error>
						<!-- <mat-error *ngIf="clientForm.controls['mobile'].hasError('minlength')">
							Minimum 10 digit <strong>required</strong>
							<span *ngIf='f.mobile.errors?.maxlength'>Mobile must be less than <strong>15 digits.</strong></span>
						</mat-error> -->
					</mat-form-field>
				</mat-card-title>
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>Country</mat-label>
						<mat-select  name="food" formControlName="country"  >
							<mat-option *ngFor="let ct of country" [value]="ct.id"  >
								{{ct.name}}
							</mat-option>
						</mat-select>
					</mat-form-field>
				</mat-card-title>
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>State</mat-label>
						<mat-select name="food" formControlName="state">
							<mat-option *ngFor="let st of state" [value]="st.id">
							{{st.name}}
							</mat-option>
						</mat-select>
					</mat-form-field>
				</mat-card-title>
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>City</mat-label>
						<input matInput placeholder="City" formControlName="city">
						<mat-error *ngIf="clientForm.controls['city'].hasError('required')">
						City is <strong>required</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title>
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>Pincode</mat-label>
						<input matInput type="number" placeholder="Pincode" formControlName="pincode">
						<mat-error *ngIf="clientForm.controls['pincode'].hasError('required')">
						Pincode is <strong>required</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title>
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>Address</mat-label>
						<textarea matInput type="text" placeholder="Address" formControlName="address"></textarea>
						<mat-error *ngIf="clientForm.controls['address'].hasError('required')">
						Address is <strong>required</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title>
				<mat-card-title>
					<mat-form-field appearance="outline">
						<mat-label>Website</mat-label>
						<input matInput type="text" placeholder="Website" formControlName="website">
						<mat-error *ngIf="clientForm.controls['website'].hasError('required')">
						Website is <strong>required</strong>
						</mat-error>
					</mat-form-field>
				</mat-card-title>
			</mat-card-content>
			<mat-card-actions>
				<button mat-raised-button color="primary" type="submit" [disabled]="!clientForm.valid">Save</button>
			</mat-card-actions>
		</mat-card>
	</form>
</div>

